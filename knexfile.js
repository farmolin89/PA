// ===================================================================
// Файл: knexfile.js (ФИНАЛЬНАЯ ИТОГОВАЯ ВЕРСИЯ)
// Описание: Этот файл теперь является "прокси" для серверной конфигурации,
// обеспечивая единый источник правды для подключения к БД.
// ===================================================================

// 1. Импортируем конфигурацию напрямую из централизованного файла config.js
const path = require('path');
require('dotenv').config({ path: path.resolve(__dirname, './.env') });
const config = require('./config/config');

// 2. Экспортируем конфигурацию базы данных для текущего окружения.
// Теперь и CLI, и сервер используют ОДНУ И ТУ ЖЕ настройку.
module.exports = {
  development: config.db,
  test: config.db,
  production: config.db,
};